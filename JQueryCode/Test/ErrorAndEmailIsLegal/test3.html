<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>validate the forms</title>

	
	<script type="text/javascript">
	/*validate the required input whether filled out*/
	function validate_form(thisform){
		with(thisform){
			if(validate_required(email, "Email must be filled out!") == false){
				email.focus();
				return false;
			}
		}
	}
	function validate_required(field, alerttxt){
		with(field){
			if (value == null || value == "") {
				alert(alerttxt);
				return false;
			}
			else
			{
				return true;
			}
		}
	}

	/***validate the legality of the email***/
	function validate_form(thisform){
		with(thisform){
			if (validate_email(email, "Not a valid email address!") == false) {
				email.focus();
				return false;
			}
		}
	}
	function validate_email(field, alerttxt){
		with(field){
			
			// just validate the base grammer
			/*
			aposition = value.indexOf("@");
			dotposition = value.lastIndexOf(".");
			if (aposition < 1 || dotposition - aposition < 2) {
				alert(alerttxt);
				return false;
			}
			else
			{
				return true;
			}
			*/

			//can validate the email completely
			if (!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(value)) {
				alert(alerttxt);
			}
			

			/* error 
			if (![a-zA-Z0-9_\\-\\.]+@[a-zA-Z0-9]+(\\.(com)).test(value)) {
				alert(alerttxt);
			}
			*/


		}
	}

	</script>

</head>

<body>

<form action="submitpage.html" onsubmit="return validate_form(this)" method="post">
	Email: <input type="text" name="email" size="30">
	<input type="submit" value="Submit">
</form>

</body>
</html>